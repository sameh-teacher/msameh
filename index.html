<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>اختبار إلكتروني – بنك أسئلة – 20 سؤالًا – 30 درجة – تصميم B</title>
<style>
:root{ --bg:#0b1324; --card:#ffffff; --accent:#10b981; --accent2:#14b8a6; --muted:#64748b; --danger:#ef4444 }
body{margin:0;background:linear-gradient(135deg,var(--bg),#0f172a);font-family:Tahoma,Arial,sans-serif;color:#0f172a}
header{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:20px;text-align:center;font-size:22px;font-weight:bold}
.card{background:#fff;margin:14px auto;padding:18px;border-radius:14px;max-width:950px;box-shadow:0 10px 28px rgba(0,0,0,.13)}
.btn{background:var(--accent);color:#fff;padding:12px 16px;border:none;border-radius:10px;cursor:pointer;font-size:16px}
.btn.secondary{background:#334155}
input[type=text]{width:100%;padding:10px;border:1px solid #e5e7eb;border-radius:10px;margin-top:6px}
.options label{display:block;padding:10px;margin:6px 0;border:1px solid #e5e7eb;border-radius:10px;cursor:pointer}
.timer{color:var(--danger);font-weight:bold}
.progress{height:8px;background:#e5e7eb;border-radius:6px;overflow:hidden;margin-top:8px}
.progress-inner{height:100%;width:0;background:linear-gradient(90deg,var(--accent),var(--accent2))}
</style>
</head>
<body>
<header>اختبار إلكتروني – بنك أسئلة – 20 سؤالًا – 30 درجة – تصميم B</header>
<div class="card">
  <label>اسم الطالب:<br><input id="student"></label>
  <label>الفصل:<br><input id="class"></label>
  <div style="margin-top:10px;color:#64748b">الوقت المتبقي: <span id="time" class="timer">10:00</span></div>
  <div class="progress"><div class="progress-inner" id="bar"></div></div>
</div>
<div class="card" id="quiz">
  <h3>الأسئلة العشوائية من بنك الأسئلة (20 سؤالًا)</h3>
  <div id="exam"></div>
  <button class="btn" onclick="submitExam()">إنهاء الاختبار</button>
  <button class="btn secondary" onclick="sendMail()">إرسال النتيجة للمعلم</button>
  <div id="result" style="margin-top:15px;font-size:18px;font-weight:bold"></div>
</div>

<script>
// Bank of ~30 questions, 20 will be selected randomly
const BANK = [
 {q:'يتحقق التكامل الاقتصادي عندما يتم تنشيط…', opts:[['التجارة البينية',1],['الاستيراد الخارجي',0],['تقليل الإنتاج',0]]},
 {q:'من مقومات التكامل الاقتصادي:', opts:[['اللغة والتاريخ المشترك',1],['ضعف الموارد',0],['قلة السكان',0]]},
 {q:'من مجالات التكامل:', opts:[['تبادل المحاصيل الغذائية',1],['السياحة فقط',0],['الهجرة',0]]},
 {q:'من معوقات التكامل الاقتصادي:', opts:[['الصراعات والاضطرابات',1],['تنويع الإنتاج',0],['تسهيل التجارة',0]]},
 {q:'جامعة الدول العربية أُنشئت عام…', opts:[['1945',1],['1997',0],['1957',0]]},
 {q:'منطقة التجارة الحرة العربية الكبرى أُنشئت عام…', opts:[['1997',1],['1970',0],['2005',0]]},
 {q:'زيادة الخدمات الصحية تؤدي إلى…', opts:[['رفع القدرة التنافسية',1],['زيادة الوفيات',0],['انخفاض العمر',0]]},
 {q:'تشابه الإنتاج بين الدول العربية يؤدي إلى…', opts:[['معوقات التكامل',1],['تحقيق التعاون',0],['خفض البطالة',0]]},
 {q:'من فوائد التكامل:', opts:[['خفض البطالة والفقر',1],['تقليل الإنتاج',0],['زيادة الضرائب',0]]},
 {q:'من مجالات التكامل الصناعي:', opts:[['استغلال البترول والغاز',1],['تقليل العمالة',0],['إلغاء المصانع',0]]},
 {q:'من الموارد الطبيعية الداعمة للتكامل:', opts:[['المعادن',1],['قلة المياه',0],['ندرة الطاقة',0]]},
 {q:'زيادة الاستثمار العربي المشترك يؤدي إلى…', opts:[['تحسين مستوى المعيشة',1],['زيادة الفقر',0],['تراجع التنمية',0]]},
 {q:'من مقومات التكامل البشرية:', opts:[['الكوادر المؤهلة',1],['انعدام التعليم',0],['قلة المهارات',0]]},
 {q:'من العوامل المؤثرة في التكامل:', opts:[['الاستقرار السياسي',1],['النزاعات فقط',0],['العزلة الاقتصادية',0]]},
 {q:'زيادة الإنتاج المحلي يؤدي إلى…', opts:[['الاكتفاء الذاتي',1],['زيادة الواردات',0],['انخفاض الجودة',0]]},
 {q:'قلة الاعتماد على الخارج تُعد…', opts:[['ميزة اقتصادية مهمة',1],['معوقًا للتكامل',0],['عاملًا لزيادة الواردات',0]]},
 {q:'تنشيط التجارة البينية يحتاج إلى…', opts:[['تسهيل انتقال السلع',1],['رفع الرسوم الجمركية',0],['منع التبادل',0]]},
 {q:'من أهداف التكامل:', opts:[['رفع القدرة التنافسية',1],['تقليل الإنتاج',0],['عزل الأسواق',0]]},
 {q:'من آثار غياب التكامل:', opts:[['زيادة الاستيراد',1],['تحقيق الاكتفاء الذاتي',0],['تنشيط الإنتاج',0]]},
 {q:'زيادة التنسيق الاقتصادي يؤدي إلى…', opts:[['رفع التنمية',1],['ضعف الاقتصاد',0],['تراجع الصناعة',0]]},
 {q:'التنوع الجغرافي في الوطن العربي يؤدي إلى…', opts:[['تكامل الموارد',1],['نقص الإنتاج',0],['غياب التعاون',0]]},
 {q:'من الأمثلة على موارد عربية مكملة:', opts:[['البترول والغاز',1],['ندرة المعادن',0],['قلة الأراضي',0]]},
 {q:'تحسين التعليم يساهم في…', opts:[['تقوية الكوادر',1],['انخفاض النمو',0],['ضعف الإنتاجية',0]]}
];

function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]] } return arr }

// pick 20 random
const QUESTIONS = shuffle(BANK.slice()).slice(0,20);

let total = 10*60;
let timer = setInterval(()=>{
 let m = String(Math.floor(total/60)).padStart(2,'0');
 let s = String(total%60).padStart(2,'0');
 document.getElementById('time').textContent = m+':'+s;
 if(total<=0){ submitExam(); clearInterval(timer); }
 total--;
},1000);

// Build exam
const examDiv = document.getElementById('exam');
QUESTIONS.forEach((q,i)=>{
 let box = document.createElement('div'); box.className='options';
 let title = document.createElement('div'); title.textContent = (i+1)+') '+q.q; box.appendChild(title);
 shuffle(q.opts).forEach(op=>{
   let lab = document.createElement('label');
   let inp = document.createElement('input'); inp.type='radio'; inp.name='q'+i; inp.value = op[1];
   lab.appendChild(inp); lab.appendChild(document.createTextNode(' '+op[0]));
   box.appendChild(lab);
 });
 examDiv.appendChild(box);
});

function submitExam(){
 let score = 0;
 QUESTIONS.forEach((q,i)=>{
   let sel = document.querySelector("input[name='q"+i+"']:checked");
   if(sel) score += parseInt(sel.value);
 });
 document.getElementById('result').innerHTML = 'الدرجة: '+score+' / 30';
}

function sendMail(){
 submitExam();
 let score = document.getElementById('result').innerText;
 let name = document.getElementById('student').value;
 let klass = document.getElementById('class').value;
 let body = `الطالب: ${name}%0D%0Aالفصل: ${klass}%0D%0A${score}`;
 window.location.href = 'mailto:samehteba@gmail.com?subject=نتيجة اختبار&body='+body;
}
</script>
</body>
</html>